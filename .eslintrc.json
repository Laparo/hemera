{
  "root": true,
  "extends": ["next/core-web-vitals"],
  "rules": {
    "no-console": [
      "error",
      {
        "allow": [
          // Allow console on the client for non-error logs during development
          // but prohibit console.error entirely per constitution
          "warn",
          "info"
        ]
      }
    ]
  },
  "overrides": [
    {
      "files": ["app/api/**/*.ts", "app/**/route.ts", "lib/api/**/*.ts", "lib/services/**/*.ts"],
      "rules": {
        // Disallow all console usage in server and critical service code
        "no-console": ["error"]
      },
      "excludedFiles": ["app/api/stripe/webhook/**/*.ts", "app/api/webhooks/**/*.ts"]
    },
    {
      "files": ["lib/monitoring/**/*.ts", "lib/examples/**/*.ts"],
      "rules": {
        // Allow console in monitoring and example code for debug purposes
        "no-console": "off"
      }
    }
  ],
  "ignorePatterns": [
    "playwright-report/**/*",
    "playwright-report-external/**/*",
    "test-results/**/*",
    ".next/**/*",
    "node_modules/**/*"
  ]
}
